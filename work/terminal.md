# Terminal常用操作

我们使用终端常常是需要操作文件或文件夹，这里列出了一些常用的操作  [Linux命令大全](https://man.linuxde.net/)

> 如果我们对一个命令不熟悉的话可以在终端输入 `man XXX` 终端就会展示该命令的相关用法，想要退出说明可以按下键盘的 `Q` 即可

1. `pwd`  显示工作目录，快速得知当前的工作目录的绝对路径名称

2. `cd`  进入文件夹，可以使用相对路径和决定路径的方式， 如果进入D盘 `cd D:`  使用 `cd ~` 可以快速切换到home目录，liunx服务可以先使用  cd / 跳转到根目录

3. `mkdir` 创建目录  `mkdir [-p]  dirname`   其中的`-p`表示确保目录名称存在，不存在就创建一个

4. ``ls`  可以展示当前文件夹下的所有文件，在liunx上也可以使用 `ll`

      - `ls -la` 可以展示当前文件夹下的包含隐藏文件再内的文件详细内容

      - `ls -R`  可以展示当前文件夹及文件夹里面的全部文件的内容

7. `rm` 命令删除一个文件或者目录，`rm [option] filename`， `rm -rf /*` 强制删除所有文件

      1.  `-i` 删除前逐一询问确认
      2. `-r / -R` 递归删除 ，制定目录下所有文件和子目录一并处理
      3.  `-f`  强制删除文件或目录

6. `rmdir`  删除空文件夹，但是会给出提示

      

7. `cat`  查看文件内容，用于连接文件并打印标准输出到设备上

8. `tail` 查看文件内容，默认显示文件的最后10行内容  `tail [option] [filename]`  

      1. -f  循环读取内容

9. `vim`  查看文件内容，并打开文件执行后续操作

        - i  进入编辑模式
        - `esc` => `:q!`  不保存退出
        - `esc` =>  `:wq`  保存并退出


        

10. `cp`   复制文件或者文件夹 `cp [option] source  dest    cp -r [source]  [dest]`

11. `mv`   文件移动/改名  `mv [option] source dest      mv [option] source... directory` 需要理解在

        ```shell
        1. `-i`  若指定目录有同名文件，询问是否覆盖
        2. `-f`  在mv操作要覆盖的文件，不会给出提示
        3. | 命令格式            | 运行结果                 |
              | ------------------- | ------------------------ |
              | mv  文件名   文件名 | 修改文件名               |
              | mv 文件名  目录名   | 移动文件到指定位置       |
              | mv  目录名  目录名  | 移动目录，如果没有则新建 |
              | mv  目录名   文件名 | 出错                     |
        ```

12. `which`   查找文件，which 指令会在环境变量 PATH 设置的目录中查找符合条件的文件，给出路径  `which [filename]`

13. `telnet` 端口是否可访问，可以用来查看某个远程端口是否可访问  `telnet www.baidu.com 80`

14. `grep`  查找关键字，可以在文件中快速找到符合条件的字符串 `grep [string]  [filename]` 会展示包含你字符串的那行内容

15. `PS`  显示当前进程状态  `ps [option]`

              - -e  显示所有进程
            
              - -f  全格式

16. `find`  用来在指定目录下查找文件，任何位于参数之前的字符串都将被设为欲查找的目录名，如果不设置任何参数，则 find  将在当前目录下查找子目录与文件  `find path -option [-print]`

17. `curl`  文件传输， curl 通过 URL 语法在命令行上传或下载文件的工具软件，支持 `http https ftp ftps telnet` 等多种协议，常用来抓取网页和监控web服务器状态   `curl [options] [url]`

              - -o  把输出写到改文件中
              - -I 仅仅返回 header



## 登陆服务命令行操作
1. 查看文件的具体内容 `vim filename` 就可以查看具体的文件内容，也会进入页面内容  点击 `i` 就可以编辑  在编辑状态的时候推出流程：  先按 `esc`, 然后输入 `:q!`为不保存推出， `:wq`保存并退出 
2. `ll -t` 命令可以看到一个文件夹下所有文件的最后上传时间，是按照倒叙排列，最近上传的最前面
3. `ls -l` 可以查看文件下的所有文件，并有最后修改的时间
4. `sz` 将选定的文件发送（send）到本地机器  `sz filename` 可以将服务器上的文件下载到本地
5. `rz` 运行该命令会弹出一个文件选择窗口，从本地选择文件上传到服务器(receive)  `rz -y` 上传文件的时候如果已经存在同名文件，会自动覆盖同名的文件
6. `zip -r mysql.zip mysql` 将MySQL文件夹压缩成 `mysql.zip`
7. `unzip mysql.zip` 在当前目录下直接解压`mysql.zip`

> 服务器上传可以先在本地压缩,然后直接上传到服务器,在服务器再解压，一般选择Zip压缩格式


### Linux 下操作的命令 记录一下

> 环境是CentOS 7.6 64位

```
在Linux上的node安装了全局的包 需要配置全局命令，流程如下，以安装pm2为例
先到安装node的目录下找到bin文件夹执行 pm2 -v 或者 ./pm2 -v 看能否打印
如果成功说明指令是在该路面下  再 pwd 查看当前的目录 xxxx;
ln -s xxxx/pm2 /usr/bin/pm2    就可以在全局执行 pm2了；
```

> 查看磁盘空间大小
```shell
df -hl  # df 命令可以查看磁盘分区上的磁盘空间 包括使用，剩余 
df -h   # 比上面的命令多了一行别的服务器共享的空间
```

> 查看文件夹和目录大小的命令 
```shell
# -h 参数表示把默认的单位改为比较好辨认的单位
du -sh [/filname]  # 查看指定文件夹的大小， 是表示总大小 
du -sh   # 查看当前文件夹所占大小， 是表示总大小 

du -h  # 查看当前文件夹下所有的文件夹的大小
du -sh *  # 查看当前目录下所有的文件夹和文件的大小
du -ah  # 查看当前文件夹下所有文件的大小(递归查询所有文件)
```


`uname -r`  查看服务器系统的位数，展示的末尾的  `x86_64表示64位系统，i686 i386表示32位系统`

`tar -xvf`  解压压缩包，注意参数是-xvf，不是-xzvf

`netstat -tpln` 可以查看服务器监听了那些端口

`netstat -tunpl |grep 端口号`  可以查询某个端口上被那些程序占用 会返回程序 ID值 `LISTEN      1543/node`

`ps -ef|grep 1543`  查询上一个命令返回的程序ID就可以知道程序启动的信息和程序启动的位置

```shell
服务器 centos 的情况下 后台启动 anywhere
首先执行  yum install screen 
在项目文件夹下输入 screen -S http-server
输入完这个命令之后，就已经进入screen的一个终端去了  在这个终端里面输入http-server -p端口命令 
最后按住 ctrl+a+d 就可以后台一直运行，不会关闭窗口服务就停了
```


---
访问远程服务器的方法除了专用的工具外，还可以直接使用命令行 输入 `ssh root@47.108.93.108(公网IP地址)` 点击回车就会提示输入密码，然后就可以访问服务器空间