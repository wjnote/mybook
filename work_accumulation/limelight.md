## js开发中注意的点
总结一些在开发中需要注意点的点或者是隐藏的坑

- 数组的 sort 方法，注意返回的应该是 1/-1，而不是 true/false 的形式

```js
const arr = [ 0, 1, 5, 10, 15, 10, 100, 99, 100 ];
arr.sort((v1,v2)=>{
    return v1 > v2
})
//  上面这种方式看似是正确的，但是如果数据一多的情况下就会出错
// 如果将数据改为  [0, 1, 5, 10, 15, 10, -2, -2, 100, 99, 100]
[0, 1, 5, 10, 15, 10, -2, -2, 100, 99, 100]  // 浏览器输出
[ 10, 0, -2, -2, 1, 5, 10, 15, 99, 100, 100 ] // node输出

// 所以应该使用
arr.sort((v1,v2)=>{
    return v1 > v2 ? 1: -1;
});
// 浏览器和node环境都能正确输出
```

- 数组中可以使用map和forEach、for来循环数组，但是应该使用forEach或者for来循环数组，而map作为数组关系的映射

```js
let sum = 0,arr = [];
for (let i = 0; i < 10 * 1000 * 1000; i++) {
  arr.push(i)
}
// 是在浏览器环境下测试，map花费的时间是其余两种的4倍，这种在node环境就很差了
console.time('p')
// arr.map(v => {
//   sum += v
// })
// 2266.562255859375ms

// arr.forEach(v=>{sum += v;})
// 528.845947265625ms

for(var i=0;i<arr.length;i++){
  sum += arr[i];
}
//  472.293212890625ms
console.timeEnd('p')
```